#cloud-config
autoinstall:
  version: 1
  identity:
    hostname: ubuntu-dev
    password: "$6$TVDBGla0gs520h6O$GSMqUsYIU5Lq5637TO8B1zf0qkXFJgGCHuTSWcb.O4m9D2QKI1vaRZgYlQh0STzakh/H7RF6N130zx9DrFG000" # Password: 1234
    realname: Ben Sivan
    username: bensiv
  locale: en_US.UTF-8
  keyboard:
    layout: us
  ssh:
    install-server: true
    authorized-keys: []
    allow-pw: true
  packages:
    - git

  
  late-commands:
    # 1. Mount CIDATA
    - mkdir -p /mnt/cidata
    - mount -L CIDATA /mnt/cidata
    
    # 2. Run external bootstrap script (Avoids YAML quoting hell)
    - bash /mnt/cidata/bootstrap.sh
    
    # 3. Cleanup
    - umount /mnt/cidata
